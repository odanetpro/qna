$('#answer-errors-<%= answer.id %>').html('<%= render 'shared/errors', resource: answer %>')

<% unless answer.errors.present? %>
  $('.answer-' + <%= answer.id %>).children('#answer-body-' + <%= answer.id %>).html('<%= j answer.body %>')
  
  <% if answer.files.attached? %>
    let attachments = ''

    <% answer.files.each do |file| %>
      attachments += '<p><%= link_to file.filename.to_s, url_for(file) %></p>'
    <% end %>

    $('.answer-' + <%= answer.id %>).children('#answer-attachments-' + <%= answer.id %>).html(attachments)
  <% end %>

  $('form#edit-answer-' + <%= answer.id %>).addClass('hidden')
  $('.answer-' + <%= answer.id %>).children('.edit-answer-link').removeClass('hidden')
  $('.answer-' + <%= answer.id %>).children('.delete-answer-link').removeClass('hidden')
<% end %>
